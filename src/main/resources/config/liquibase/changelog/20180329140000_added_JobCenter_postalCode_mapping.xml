<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

    <changeSet id="20180329140000-1" author="olko">
        <createTable tableName="job_center_postal_codes">
            <column name="postal_code" type="varchar(4)">
                <constraints nullable="false"/>
            </column>

            <column name="job_center_code" type="varchar(5)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <addPrimaryKey columnNames="postal_code, job_center_code"
                       constraintName="pk_job_center_postal_codes"
                       tableName="job_center_postal_codes"/>
    </changeSet>

    <changeSet id="20180329140000-2" author="olko">
        <!-- Set the checksum of the current updated csv file -->
        <validCheckSum>7:443aa4e3b07648a7c96c675b7f0dab5a</validCheckSum>
        <loadData tableName="job_center_postal_codes"
                  file="config/liquibase/changelog/data/job-centers-by-postal-code.csv"/>
    </changeSet>
</databaseChangeLog>
